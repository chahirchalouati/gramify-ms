<div [style.grid-template-columns]="attachments.length > 1 ? 'repeat(2, 1fr)': 'repeat(1, 1fr)'"
     class="grid-container">
  <ng-container *ngFor="let attachment of attachments">
    <ng-container *ngIf="attachment as image">
      <div *ngIf="isImage(attachment.contentType)" class="grid-item">
        <img [alt]="image.name"
             [src]="image.name | src: image.etag | async"
             appImgFallback>
      </div>
    </ng-container>
    <div *ngIf="isVideo(attachment.contentType)" class="grid-item">
      <video
        #videoElement
        [src]="attachment.name | src: attachment.etag | async"
        (visible)="setVisibility($event, videoElement)"
        [controls]="isControlsActive"
        trackVisibility>
      </video>
    </div>
  </ng-container>

</div>
